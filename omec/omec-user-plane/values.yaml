# Copyright 2020-present Open Networking Foundation
#
# SPDX-License-Identifier: LicenseRef-ONF-Member-Only-1.0

images:
  tags:
    init: docker.io/omecproject/pod-init:1.0.0
    bess: docker.io/omecproject/upf-epc-bess:master-latest
    pfcpiface: docker.io/omecproject/upf-epc-pfcpiface:master-latest
    zmqiface: docker.io/omecproject/upf-epc-cpiface:master-latest
  pullPolicy: Always
  credentials: {}
  # If specified, use this credential to access the image
  #   registry:
  #   username:
  #   password:

nodeSelectors:
  enabled: false
  upf:
    label: omec-upf
    value: enabled

resources:
  enabled: true
  bess:
    requests:
      cpu: 2
      memory: 256Mi
    limits:
      cpu: 2
      memory: 256Mi
  routectl:
    requests:
      cpu: 256m
      memory: 128Mi
    limits:
      cpu: 256m
      memory: 128Mi
  web:
    requests:
      cpu: 256m
      memory: 128Mi
    limits:
      cpu: 256m
      memory: 128Mi
  cpiface:
    requests:
      cpu: 256m
      memory: 128Mi
    limits:
      cpu: 256m
      memory: 128Mi

config:
  coreDump:
    enabled: false
    path: /tmp/coredump
  upf:
    # Enable privileged when run from VM with sriov support
    privileged: false
    hugepage:
      enabled: true
    sriov:
      enabled: true
    # Dynamic IP allocation is not supported yet
    ipam: static
    cniPlugin: vfioveth
    enb:
      subnet: 192.168.251.0/24
    access:
      gateway: 192.168.252.1
      ip: 192.168.252.3/24
    core:
      gateway: 192.168.250.1
      ip: 192.168.250.3/24
    cfgFiles:
      upf.json:
        mode: dpdk
        workers: 1
        max_sessions: 50000
        access:
          ifname: access
        core:
          ifname: core
        measure: true
    bess:
      web:
        nodePort: 36000
    cpiface:
      # pfcp or zmq
      mode: pfcp
